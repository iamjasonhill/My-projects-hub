# Laravel Boost Setup Guide for Multiple Projects

**Purpose:** Guide for setting up Laravel Boost and Cursor rules across multiple Laravel projects.

---

## Quick Answer

**Yes, each Laravel project needs its own setup** because:
- ✅ Each project has its own database
- ✅ Each project has different packages/versions
- ✅ Each project has its own `.env` configuration
- ✅ MCP configuration needs the correct project path
- ✅ Cursor rules may be project-specific

---

## What Needs to Be Per-Project

### 1. Laravel Boost Package ✅
**Required per project:**
```bash
cd /path/to/project
composer require laravel/boost
php artisan boost:install
```

**Why:** Each project needs the package installed in its `vendor/` directory.

### 2. MCP Configuration ✅
**Required per project:** `.cursor/mcp.json`

**Why:** The `cwd` (current working directory) must point to the specific project root.

**Example:**
```json
{
    "mcpServers": {
        "laravel-boost": {
            "command": "php",
            "args": ["artisan", "boost:mcp"],
            "cwd": "/Users/jasonhill/Projects/laravel-projects/Moveroo-Cars-2026"
        }
    }
}
```

### 3. Laravel Boost Guidelines ✅
**Required per project:** `.cursor/rules/laravel-boost.mdc`

**Why:** Generated by `boost:install` with project-specific package versions.

### 4. Cursor Rules (Optional) ⚠️
**Can be shared or project-specific:** `.cursorrules`

**Why:** 
- **Shared:** If all projects follow the same coding standards
- **Project-specific:** If projects have different conventions

---

## Setup Steps for Each Project

### Step 1: Install Laravel Boost
```bash
cd /path/to/project
composer require laravel/boost
php artisan boost:install
```

### Step 2: Create MCP Configuration
Create `.cursor/mcp.json`:
```json
{
    "mcpServers": {
        "laravel-boost": {
            "command": "php",
            "args": ["artisan", "boost:mcp"],
            "cwd": "/Users/jasonhill/Projects/laravel-projects/PROJECT-NAME"
        }
    }
}
```

**Replace `PROJECT-NAME` with actual project name.**

### Step 3: Copy Cursor Rules (Optional)
If you want shared rules:
```bash
cp /path/to/Moveroo-Cars-2026/.cursorrules /path/to/new-project/.cursorrules
```

Or create project-specific rules.

### Step 4: Restart Cursor
After setup, restart Cursor to connect the MCP server.

---

## Automated Setup Script

See `setup-laravel-boost.sh` for an automated setup script.

---

## Project-Specific Considerations

### Different Laravel Versions
- Laravel Boost works with Laravel 10.x, 11.x, and 12.x
- Guidelines will be version-specific
- MCP tools work the same across versions

### Different Databases
- Each project connects to its own database
- MCP tools automatically use the project's database config
- No configuration needed - it reads from `.env`

### Different Packages
- Laravel Boost detects packages from `composer.lock`
- `search-docs` tool uses actual installed versions
- Guidelines include project-specific package info

---

## What Can Be Shared

### 1. Cursor Rules Template ✅
If all projects follow the same standards, you can:
- Copy `.cursorrules` from one project to another
- Or create a shared template

### 2. Setup Script ✅
Create a reusable script to automate setup (see below)

### 3. Documentation ✅
Share setup guides and best practices

---

## What Cannot Be Shared

### 1. MCP Configuration ❌
**Must be per-project** because:
- `cwd` must point to the specific project root
- Each project has its own `artisan` command

### 2. Laravel Boost Package ❌
**Must be per-project** because:
- Installed via Composer per project
- Uses project's `composer.lock` for package detection

### 3. Database Connection ❌
**Automatically per-project** because:
- Reads from project's `.env` file
- Each project has its own database

---

## Your Current Projects

Based on your workspace, you have **4 Laravel projects**:

1. ✅ **Moveroo-Cars-2026** - Already set up
2. ⏳ **Moveroo Removals 2026** - Needs setup
3. ⏳ **console-analytics** - Needs setup
4. ⏳ **Widgee creek** - Needs setup (if it's a Laravel project)

---

## Quick Setup Checklist

For each new project:

- [ ] Install Laravel Boost: `composer require laravel/boost && php artisan boost:install`
- [ ] Create `.cursor/mcp.json` with correct `cwd` path
- [ ] Verify `.cursor/rules/laravel-boost.mdc` exists (created by `boost:install`)
- [ ] Copy `.cursorrules` (optional, if you want shared rules)
- [ ] Restart Cursor
- [ ] Test MCP connection

---

## Troubleshooting

### Issue: MCP Server Not Connecting

**Check:**
1. `.cursor/mcp.json` has correct `cwd` path
2. Project has Laravel Boost installed
3. `php artisan boost:mcp` works from project directory
4. Cursor has been restarted

### Issue: Wrong Database

**Check:**
1. Project's `.env` file has correct database config
2. MCP tools use the project's database automatically
3. No manual configuration needed

### Issue: Wrong Package Versions

**Check:**
1. `composer.lock` is up to date
2. `boost:update` has been run
3. Guidelines reflect actual installed versions

---

## Next Steps

1. **Set up remaining projects** using the steps above
2. **Use the setup script** (if provided) for automation
3. **Test each project** to verify MCP connection
4. **Customize rules** per project if needed

---

**Note:** The setup is quick (5-10 minutes per project) and only needs to be done once per project.



have a “wait for Postgres” step but no Postgres service is defined.
In your workflow YAML you probably have something like:

- name: Wait for PostgreSQL
  run: ./scripts/wait-for-postgres.sh postgres 5432

  But you don’t have:

  jobs:
    tests:
        runs-on: ubuntu-latest
            services:
                  postgres:
                          image: postgres:16
                                  env:
                                            POSTGRES_USER: postgres
                                                      POSTGRES_PASSWORD: postgres
                                                                POSTGRES_DB: your_db
                                                                        ports:
                                                                                  - 5432:5432
                                                                                          options: >-
                                                                                                    --health-cmd pg_isready
                                                                                                              --health-interval 10s
                                                                                                                        --health-timeout 5s
                                                                                                                           --health-retries 5

                                                                                                                           So the script is waiting for a container called postgres that never starts.

                                                                                                                            2.  Or you renamed the service, but not the hostname.
                                                                                                                            e.g.:

                                                                                                                            services:
                                                                                                                             db:
                                                                                                                              image: postgres:16

                                                                                                                              but your wait step (or .env) still assumes host postgres. In that case, the hostname should be db, not postgres.

                                                                                                                                3.  Or you don’t actually want Postgres in CI at all.
                                                                                                                                For a lot of Laravel projects it’s simpler to use SQLite in GitHub Actions and keep Postgres for dev/prod only. If you copy-pasted a Postgres-ready workflow template, you might have a “wait for postgres” step that you don’t really need.

                                                                                                                                ⸻

                                                                                                                                Quick fixes — pick the one that matches what you actually want

                                                                                                                                Option A – You do want Postgres in CI
                                                                                                                                Add a Postgres service with the label postgres so that hostname exists.

                                                                                                                                Your job should look roughly like this:

                                                                                                                                jobs:
                                                                                                                                 tests:
                                                                                                                                  runs-on: ubuntu-latest

                                                                                                                                   services:
                                                                                                                                         postgres:
                                                                                                                                                 image: postgres:16
                                                                                                                                                         env:
                                                                                                                                                                   POSTGRES_USER: postgres
                                                                                                                                                                             POSTGRES_PASSWORD: postgres
                                                                                                                                                                                       POSTGRES_DB: laravel_test
                                                                                                                                                                                               ports:
                                                                                                                                                                                                         - 5432:5432
                                                                                                                                                                                                                 options: >-
                                                                                                                                                                                                                           --health-cmd pg_isready
                                                                                                                                                                                                                                     --health-interval 10s
                                                                                                                                                                                                                                               --health-timeout 5s
                                                                                                                                                                                                                                                         --health-retries 5

                                                                                                                                                                                                                                                             env:
                                                                                                                                                                                                                                                                   DB_CONNECTION: pgsql
                                                                                                                                                                                                                                                                         DB_HOST: postgres
                                                                                                                                                                                                                                                                               DB_PORT: 5432
                                                                                                                                                                                                                                                                                     DB_DATABASE: laravel_test
                                                                                                                                                                                                                                                                                           DB_USERNAME: postgres
                                                                                                                                                                                                                                                                                                 DB_PASSWORD: postgres

                                                                                                                                                                                                                                                                                                     steps:
                                                                                                                                                                                                                                                                                                           - uses: actions/checkout@v4

                                                                                                                                                                                                                                                                                                                 # (php setup, composer install, etc)

                                                                                                                                                                                                                                                                                                                       - name: Run tests
                                                                                                                                                                                                                                                                                                                               run: php artisan test

                                                                                                                                                                                                                                                                                                                               Key points:
                                                                                                                                                                                                                                                                                                                                •   services.postgres defines a container.
                                                                                                                                                                                                                                                                                                                                    •   The service label (postgres) becomes the hostname your app and the pg_isready script must use.
                                                                                                                                                                                                                                                                                                                                        •   Your DB_HOST should be postgres (not 127.0.0.1) inside Actions.

                                                                                                                                                                                                                                                                                                                                        If you already have a services: block but with a different label (db, database, etc.), either:
                                                                                                                                                                                                                                                                                                                                            •   Change the label to postgres, or
                                                                                                                                                                                                                                                                                                                                                •   Change your wait script and DB_HOST to match the existing label.

                                                                                                                                                                                                                                                                                                                                                ⸻

                                                                                                                                                                                                                                                                                                                                                Option B – You’re happy to use SQLite for tests (simplest)
                                                                                                                                                                                                                                                                                                                                                If you don’t need a real Postgres instance on CI yet, you can:
                                                                                                                                                                                                                                                                                                                                                    1.  Remove or comment out the “wait for PostgreSQL” step.
                                                                                                                                                                                                                                                                                                                                                        2.  Use SQLite instead in your workflow:

                                                                                                                                                                                                                                                                                                                                                        jobs:
                                                                                                                                                                                                                                                                                                                                                          tests:
                                                                                                                                                                                                                                                                                                                                                           runs-on: ubuntu-latest

                                                                                                                                                                                                                                                                                                                                                               steps:
                                                                                                                                                                                                                                                                                                                                                                - uses: actions/checkout@v4

                                                                                                                                                                                                                                                                                                                                                                 - name: Copy .env
                                                                                                                                                                                                                                                                                                                                                                   run: php -r "file_exists('.env') || copy('.env.example', '.env');"

                                                                                                                                                                                                                                                                                                                                                                         - name: Install dependencies
                                                                                                                                                                                                                                                                                                                                                                                 run: composer install --no-interaction --prefer-dist --no-progress

                                                                                                                                                                                                                                                                                                                                                                                       - name: Generate app key
                                                                                                                                                                                                                                                                                                                                                                                               run: php artisan key:generate

                                                                                                                                                                                                                                                                                                                                                                                                     - name: Prepare SQLite database
                                                                                                                                                                                                                                                                                                                                                                                                             run: |
                                                                                                                                                                                                                                                                                                                                                                                                                       mkdir -p database
                                                                                                                                                                                                                                                                                                                                                                                                                                 touch database/database.sqlite

                                                                                                                                                                                                                                                                                                                                                                                                                                       - name: Run tests
                                                                                                                                                                                                                                                                                                                                                                                                                                               env:
                                                                                                                                                                                                                                                                                                                                                                                                                                                         DB_CONNECTION: sqlite
                                                                                                                                                                                                                                                                                                                                                                                                                                                                   DB_DATABASE: database/database.sqlite
                                                                                                                                                                                                                                                                                                                                                                                                                                                                           run: php artisan test

                                                                                                                                                                                                                                                                                                                                                                                                                                                                           That way:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            •   No Postgres service is needed.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                •   No hostname postgres is ever used.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    •   The “wait for Postgres” step is unnecessary and can be deleted.

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    This is often the easiest thing to get green CI while you’re still wiring everything up.

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ⸻

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    What I’d actually do in your shoes

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Given where you’re at:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        1.  Open .github/workflows/... (whatever your Laravel workflow file is called).
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            2.  Look for:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                •   a services: block
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    •   any step that mentions postgres, pg_isready, or “wait for”.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        3.  Then:

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            •   If there is no services: block at all → either:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                •   add the Postgres service (Option A), or
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    •   delete the wait-for-Postgres step and switch tests to SQLite (Option B).
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        •   If there is a services: block with a different label (db, database) → change the hostname in your script and env to match that label.

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        If you paste your workflow YAML here (redact secrets), I can mark it up and show you the exact few lines to 